{% extends 'layout.html' %}

{% block title %}
PetLover - Home
{% endblock %}

{% block content %}
<h1 class="display-1">Bienvenidos</h1>
<p>Welcome to the website!</p>
<div id="carouselExample" class="carousel slide mb-5">
    <div class="carousel-inner">

        <div class="carousel-item active">
            <img src="https://petsonline.cl/cdn/shop/files/PetsOnline_BannersOk_Alimentos_2500x813_crop_center.jpg?v=1699537949"
                 class="d-block w-100 h-50" alt="...">
        </div>

        <div class="carousel-item ">
            <img src="https://petsonline.cl/cdn/shop/files/PetsOnline_BannersOk2_Juguetes4_2000x650_crop_center.jpg?v=1699479096"
                 class="d-block w-100 h-50" alt="...">
        </div>

    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
<!-- Products -->
{% if products %}
<div class="row gap-4 mb-5">
    <h1 class="display-3">Productos</h1>
    {% for product in products %}
    <div class="card shadow p-3 border-0" style="width: 18rem;">
        <img src="{{product.image_url}}" class="card-img-top" alt="...">
        <div class="card-body">
            <h5 class="card-title">
                {{product.name}}
            </h5>
            <div class="d-flex flex-column gap-2">
                <div class="d-flex gap-2">
                    <span class="badge text-bg-light" style="width: max-content">{{product.category}}</span>
                    <span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Stock disponible"
                          class="badge bg-primary text-white" style="width: max-content">{{product.stock}}</span>
                </div>
                <span data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="CalificaciÃ³n"
                      style="width: max-content">
                    <i class="bi bi-star-fill text-primary"></i>
                        {% if product.qualification %}
                            {{ product.qualification }}
                        {% else  %}
                            {{ 0 }}
                        {% endif %}
                    </span>

                <span class="fw-medium fs-4">${{product.price}}</span>
            </div>


            <p class="card-text">
                {{product.description}}
            </p>

            <a href="{% url 'detail' product.id %}" class="btn btn-light mb-2">Ver Detalle</a>
            <button class="btn btn-primary">
                <i class="bi bi-cart-fill"></i>
                Agregar al carrito
            </button>
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}
<!-- Categories -->
{% if categories %}
<div class="row gap-4 mb-5">
    <h1 class="display-3">Categorias</h1>
    {% for category in categories %}
    <div class="card shadow p-3 border-0" style="width: 18rem;">
        <img src="{{category.image_url}}" class="card-img-top" alt="...">
        <div class="card-body text-center">
            <h5 class="card-title">
                {{category.name}}
            </h5>
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}

{% endblock %}